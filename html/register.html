<!doctype html>
<html lang="es/ES">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <title>Registro - Prueba 2</title>
    <script>  
      $(document).ready(function(){
      $("#usererror").hide();
      $("#passerror").hide();
        $("#register").submit(function(){
          $("#validar").click(function(){
              var form = new FormData();
              form.append("username", "#username");
              form.append("email", "#email");
              form.append("password1", "#password1");
              form.append("password2", "#password2");

              var settings = {
                "url": "http://nriverv.pythonanywhere.com/api/v1/validation/all/",
                "method": "POST",
                "processData": false,
                "mimeType": "multipart/form-data",
                "contentType": false,
                "data": form
              };

              $.ajax(settings).done(function (response) {
                var msj = " ";
                if($("#username").val().trim().length< 4 || $("#usern").val().trim().length> 16) {
                  msj="El usuario debe tener entre 4 y 16 carácteres";
                  $("#usererror").html(msj);
                  $("#usererror").show();
                  event.preventDefault();
                }
              });

        })

      });
    </script>
  </head>
  <body  style="background-color:#000000;margin-top: 10%;">
    <form id="register" method="POST" class="container col-md-3 bg-light" style=" padding: 15px; border-radius: 5%; opacity: 90%;">
        <div class="form-group container col-md-10">
          <label>Usuario:</label>
          <input type="text" id="username" class="form-control" placeholder="Ingrese un nombre de usuario">
        </div>

        <div class="form-group container col-md-10">
          <label >Correo electrónico:</label>
          <input type="text" id="email" class="form-control" placeholder="Ingrese su correo electrónico">
        </div>

        <div class="form-group container col-md-10">
          <label>Contraseña:</label>
          <input type="password"  id="password1" class="form-control"  placeholder="*********">
        </div>

        <div class="form-group container col-md-10">
          <label>Confirmar contraseña:</label>
          <input type="password" id="password2" class="form-control"  placeholder="*********" >
        </div>
        
        <br>
        <button  type="submit" id="validar" class="btn btn-primary container col-md-10" style="display: block; margin:auto; background-color:blue; border: none; margin-bottom: 5px;">Validar </button>
        <button  type="reset" class="btn btn-secondary container col-md-10" style="display: block; margin:auto; background-color:red; border: none; ">Limpiar </button>
        <a href="login.html" style="color:rgb(134, 134, 202)" >¿Ya tienes una cuenta? Haz click aquí para iniciar sesión</a>
        <br>
      </form>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
</body>
</html>